#!/usr/bin/env bash
# Generated with `./generate.sh pnpm`. DON'T MODIFY IT

# @flag -r --recursive
# @option -C --dir <dir>
# @flag -w --workspace-root
# @option --filter[`_choice_workspace`] <selector>
# @option --filter-prod <pattern>
# @option --test-pattern <pattern>
# @arg cmd[`_choice_cmd`]

# {{ pnpm add
# @cmd
# @flag --color
# @flag --no-color
# @flag -E
# @flag --save-exact
# @flag --no-save-exact
# @flag --save-workspace-protocol
# @flag --no-save-workspace-protocol
# @flag --aggregate-output
# @option -C --dir <dir>
# @flag -g --global
# @flag --global-dir
# @flag --ignore-scripts
# @option --loglevel[debug|info|warn|error|--silent] <level>
# @flag --offline
# @flag --prefer-offline
# @flag -r --recursive
# @flag -D --save-dev
# @flag -O --save-optional
# @flag --save-peer
# @flag -P --save-prod
# @option --store-dir <dir>
# @flag --stream
# @flag --use-stderr
# @option --virtual-store-dir <dir>
# @flag --workspace
# @flag -w --workspace-root
# @option --changed-files-ignore-pattern <pattern>
# @option --filter[`_choice_workspace`] <selector>
# @option --filter-prod <pattern>
# @option --test-pattern <pattern>
# @arg name!
add() {
    :;
}
# }} pnpm add


# {{ pnpm import
# @cmd
import() {
    :;
}
# }} pnpm import


# {{ pnpm install
# @cmd
# @alias i
# @flag --color
# @flag --no-color
# @flag --frozen-lockfile
# @flag --no-frozen-lockfile
# @flag --verify-store-integrity
# @flag --no-verify-store-integrity
# @flag --aggregate-output
# @option --child-concurrency <number>
# @flag -D --dev
# @option -C --dir <dir>
# @flag --fix-lockfile
# @flag --force
# @flag --global-dir
# @option --hoist-pattern <pattern>
# @flag --ignore-pnpmfile
# @flag --ignore-scripts
# @option --lockfile-dir <dir>
# @flag --lockfile-only
# @option --loglevel[debug|info|warn|error|silent] <level>
# @flag --merge-git-branch-lockfiles
# @option --modules-dir <dir>
# @option --network-concurrency <number>
# @flag --no-hoist
# @flag --no-lockfile
# @flag --no-optional
# @flag --offline
# @option --package-import-method <auto>
# @flag --prefer-frozen-lockfile
# @flag --prefer-offline
# @flag -P --prod
# @option --public-hoist-pattern <pattern>
# @flag -r --recursive
# @flag --shamefully-hoist
# @flag --side-effects-cache
# @flag --side-effects-cache-readonly
# @option --store-dir <dir>
# @flag --stream
# @flag --strict-peer-dependencies
# @flag --use-running-store-server
# @flag --use-stderr
# @flag --use-store-server
# @option --virtual-store-dir <dir>
# @flag -w --workspace-root
# @option --reporter <append-only>
# @flag -s --silent
# @option --changed-files-ignore-pattern <pattern>
# @option --filter[`_choice_workspace`] <selector>
# @option --filter-prod <pattern>
# @option --test-pattern <pattern>
install() {
    :;
}
# }} pnpm install


# {{ pnpm install-test
# @cmd
# @alias it
install-test() {
    :;
}
# }} pnpm install-test


# {{ pnpm link
# @cmd
# @alias ln
# @flag --color
# @flag --no-color
# @flag --aggregate-output
# @option -C --dir <dir>
# @flag -g --global
# @option --loglevel[debug|info|warn|error|silent] <level>
# @flag --stream
# @flag --use-stderr
# @flag -w --workspace-root
# @arg pkg!
link() {
    :;
}
# }} pnpm link


# {{ pnpm prune
# @cmd
# @flag --color
# @flag --no-color
# @flag --aggregate-output
# @option -C --dir <dir>
# @option --loglevel[debug|info|warn|error|silent] <level>
# @flag --no-optional
# @flag --prod
# @flag --stream
# @flag --use-stderr
# @flag -w --workspace-root
prune() {
    :;
}
# }} pnpm prune


# {{ pnpm rebuild
# @cmd
# @alias rb
# @flag --color
# @flag --no-color
# @flag --aggregate-output
# @option -C --dir <dir>
# @option --loglevel[debug|info|warn|error|silent] <level>
# @flag --pending
# @flag -r --recursive
# @option --store-dir <dir>
# @flag --stream
# @flag --use-stderr
# @flag -w --workspace-root
# @option --changed-files-ignore-pattern <pattern>
# @option --filter[`_choice_workspace`] <selector>
# @option --filter-prod <pattern>
# @option --test-pattern <pattern>
# @arg pkg*
rebuild() {
    :;
}
# }} pnpm rebuild


# {{ pnpm remove
# @cmd
# @alias rm
# @flag --color
# @flag --no-color
# @flag --aggregate-output
# @option -C --dir <dir>
# @flag --global-dir
# @option --loglevel[debug|info|warn|error|silent] <level>
# @flag -r --recursive
# @flag -D --save-dev
# @flag -O --save-optional
# @flag -P --save-prod
# @flag --stream
# @flag --use-stderr
# @flag -w --workspace-root
# @option --changed-files-ignore-pattern <pattern>
# @option --filter[`_choice_workspace`] <selector>
# @option --filter-prod <pattern>
# @option --test-pattern <pattern>
# @arg pkgs+[`_choice_dependency`]
remove() {
    :;
}
# }} pnpm remove


# {{ pnpm unlink
# @cmd
# @flag --color
# @flag --no-color
# @flag --aggregate-output
# @option -C --dir <dir>
# @option --loglevel[debug|info|warn|error|silent] <level>
# @flag -r --recursive
# @flag --stream
# @flag --use-stderr
# @flag -w --workspace-root
# @arg pkg+
unlink() {
    :;
}
# }} pnpm unlink


# {{ pnpm update
# @cmd
# @alias up
# @flag --color
# @flag --no-color
# @flag --aggregate-output
# @option --depth <number>
# @flag -D --dev
# @option -C --dir <dir>
# @flag -g --global
# @flag --global-dir
# @flag -i --interactive
# @flag -L --latest
# @option --loglevel[debug|info|warn|error|silent] <level>
# @flag --no-optional
# @flag -P --prod
# @flag -r --recursive
# @flag --stream
# @flag --use-stderr
# @flag --workspace
# @flag -w --workspace-root
# @option --changed-files-ignore-pattern <pattern>
# @option --filter[`_choice_workspace`] <selector>
# @option --filter-prod <pattern>
# @option --test-pattern <pattern>
# @arg pkgs+[`_choice_dependency`]
update() {
    :;
}
# }} pnpm update


# {{ pnpm audit
# @cmd
# @option --audit-level[low|moderate|high|critical]
# @flag -D --dev
# @flag --fix
# @flag --ignore-registry-errors
# @flag --json
# @flag --no-optional
# @flag -P --prod
audit() {
    :;
}
# }} pnpm audit


# {{ pnpm licenses
# @cmd
# @flag -D --dev
# @flag --json
# @flag --long
# @flag --no-optional
# @flag -P --prod
licenses() {
    :;
}
# }} pnpm licenses


# {{ pnpm list
# @cmd
# @alias ls
# @flag --color
# @flag --no-color
# @flag --aggregate-output
# @flag -1 --depth
# @flag -D --dev
# @option -C --dir <dir>
# @flag -g --global
# @flag --global-dir
# @flag --json
# @option --loglevel[debug|info|warn|error|silent] <level>
# @flag --long
# @flag --no-optional
# @flag --only-projects
# @flag --parseable
# @flag -P --prod
# @flag -r --recursive
# @flag --stream
# @flag --use-stderr
# @flag -w --workspace-root
# @option --changed-files-ignore-pattern <pattern>
# @option --filter[`_choice_workspace`] <selector>
# @option --filter-prod <pattern>
# @option --test-pattern <pattern>
# @arg pkg+
list() {
    :;
}
# }} pnpm list


# {{ pnpm outdated
# @cmd
# @flag --color
# @flag --no-color
# @flag --aggregate-output
# @flag --compatible
# @flag -D --dev
# @option -C --dir <dir>
# @flag --global-dir
# @option --loglevel[debug|info|warn|error] <level>
# @flag --long
# @flag --no-optional
# @flag --no-table
# @flag -P --prod
# @flag -r --recursive
# @flag --stream
# @flag --use-stderr
# @flag -w --workspace-root
# @option --changed-files-ignore-pattern <pattern>
# @option --filter[`_choice_workspace`] <selector>
# @option --filter-prod <pattern>
# @option --test-pattern <pattern>
# @arg pkg*
outdated() {
    :;
}
# }} pnpm outdated


# {{ pnpm exec
# @cmd
# @flag --parallel
# @flag -r --recursive
# @flag --report-summary
# @flag --resume-from
# @flag -c --shell-mode
# @arg exe![`_choice_exe`]
# @arg args*
exec() {
    :;
}
# }} pnpm exec


# {{ pnpm run
# @cmd
# @flag --color
# @flag --no-color
# @flag --aggregate-output
# @option -C --dir <dir>
# @flag --if-present
# @option --loglevel[debug|info|warn|error|silent] <level>
# @flag --no-bail
# @flag --parallel
# @flag -r --recursive
# @flag --report-summary
# @flag --resume-from
# @flag --sequential
# @flag --stream
# @flag --use-stderr
# @flag -w --workspace-root
# @flag --changed-files-ignore-pattern
# @option --filter[`_choice_workspace`] <selector>
# @option --filter-prod <pattern>
# @option --test-pattern <pattern>
# @arg script![`_choice_script`]
# @arg args*
run() {
    :;
}
# }} pnpm run


# {{ pnpm start
# @cmd
start() {
    :;
}
# }} pnpm start


# {{ pnpm test
# @cmd
# @alias t
# @flag -r --recursive
# @option --changed-files-ignore-pattern <pattern>
# @option --filter[`_choice_workspace`] <selector>
# @option --filter-prod <pattern>
# @option --test-pattern <pattern>
test() {
    :;
}
# }} pnpm test


# {{ pnpm pack
# @cmd
# @option --pack-destination <dir>
pack() {
    :;
}
# }} pnpm pack


# {{ pnpm publish
# @cmd
# @option --access[public|restricted] <mode>
# @flag --dry-run
# @flag --force
# @flag --ignore-scripts
# @flag --json
# @flag --no-git-checks
# @flag --otp
# @flag --publish-branch
# @flag -r --recursive
# @flag --report-summary
# @option --tag <tag>
# @option --changed-files-ignore-pattern <pattern>
# @option --filter[`_choice_workspace`] <selector>
# @option --filter-prod <pattern>
# @option --test-pattern <pattern>
# @arg tarballdir! <tarball,dir>
publish() {
    :;
}
# }} pnpm publish


# {{ pnpm root
# @cmd
# @flag -g --global
root() {
    :;
}
# }} pnpm root


# {{ pnpm store
# @cmd
store() {
    :;
}
# }} pnpm store


# {{ pnpm fetch
# @cmd
# @flag --color
# @flag --no-color
# @flag --aggregate-output
# @flag --dev
# @option -C --dir <dir>
# @option --loglevel[debug|info|warn|error|silent] <level>
# @flag --prod
# @flag --stream
# @flag --use-stderr
# @flag -w --workspace-root
# @arg ARG
# @arg ARG2*
fetch() {
    :;
}
# }} pnpm fetch


# {{ pnpm patch
# @cmd
# @flag --edit-dir
# @flag --ignore-existing
patch() {
    :;
}
# }} pnpm patch


# {{ pnpm patch-commit
# @cmd
# @flag --patches-dir
# @arg patchDir
patch-commit() {
    :;
}
# }} pnpm patch-commit


# {{ pnpm dedup
# @cmd
dedup() {
    :;
}
# }} pnpm dedup


# {{ pnpm why
# @cmd
# @flag --color
# @flag --no-color
# @flag --aggregate-output
# @flag -D --dev
# @option -C --dir <dir>
# @flag -g --global
# @flag --global-dir
# @flag --json
# @option --loglevel[debug|info|warn|error] <level>
# @flag --long
# @flag --no-optional
# @flag --parseable
# @flag -P --prod
# @flag -r --recursive
# @flag --stream
# @flag --use-stderr
# @flag -w --workspace-root
# @option --changed-files-ignore-pattern <pattern>
# @option --filter[`_choice_workspace`] <selector>
# @option --filter-prod <pattern>
# @option --test-pattern <pattern>
# @arg pkg+
why() {
    :;
}
# }} pnpm why


# {{ pnpm dlx
# @cmd
# @flag --package
# @flag -c --shell-mode
# @option --reporter <append-only>
# @option -s --silent <silent>
# @arg args*
dlx() {
    :;
}
# }} pnpm dlx


# {{ pnpm create
# @cmd
# @arg name!
create() {
    :;
}
# }} pnpm create


# {{ pnpm env
# @cmd
# @flag -g --global
# @flag --remote
# @arg version!
env() {
    :;
}

# @cmd
# @flag -g --global
env::use() {
    :;
}

# @cmd
# @flag -g --global
# @alias rm
env::remove() {
    :;
}

# @cmd
# @flag -g --global
# @alias ls
env::list() {
    :;
}
# }} pnpm env


# {{ pnpm server
# @cmd
# @flag --color
# @flag --no-color
# @flag --lock
# @flag --no-lock
# @flag --verify-store-integrity
# @flag --no-verify-store-integrity
# @flag --aggregate-output
# @flag --background
# @option -C --dir <dir>
# @flag --ignore-stop-requests
# @flag --ignore-upload-requests
# @option --loglevel <level>
# @option --network-concurrency <number>
# @option --port <number>
# @option --protocol <<auto>
# @option --store-dir <dir>
# @flag --stream
# @flag --use-stderr
# @flag -w --workspace-root
server() {
    :;
}

# @cmd
server::start() {
    :;
}

# @cmd
server::stop() {
    :;
}

# @cmd
server::status() {
    :;
}
# }} pnpm server


# {{ pnpm bin
# @cmd
# @flag -g
# @flag --global
bin() {
    :;
}
# }} pnpm bin


# {{ pnpm setup
# @cmd
# @flag -f --force
setup() {
    :;
}
# }} pnpm setup


# {{ pnpm init
# @cmd
init() {
    :;
}
# }} pnpm init


# {{ pnpm deploy
# @cmd
# @flag -D --dev
# @flag --no-optional
# @flag -P --prod
# @option --changed-files-ignore-pattern <pattern>
# @option --filter[`_choice_workspace`] <selector>
# @option --filter-prod <pattern>
# @option --test-pattern <pattern>
# @arg deployed-project-name!
# @arg target-directory!
deploy() {
    :;
}
# }} pnpm deploy


# {{ pnpm docter
# @cmd
docter() {
    :;
}
# }} pnpm docter


# {{ pnpm config
# @cmd
# @flag -g --global
# @option --location <<project>
config() {
    :;
}

# @cmd
# @flag -g --global
# @arg key[`_choice_config_key`]
# @arg value
config::set() {
    :;
}

# @cmd
# @arg key[`_choice_config_key`]
config::get() {
    :;
}

# @cmd
# @arg key[`_choice_config_key`]
config::delete() {
    :;
}

# @cmd
config::list() {
    :;
}
# }} pnpm config


NODE="$(which node)"

_choice_cmd() {
    _choice_script
    _choice_exe
}

_choice_script() {
    project_dir="$(_locate_project)"
    if [ -f "$project_dir/package.json" ]; then
        (cd "$project_dir" && "$NODE" -e "var pkg=require('./package.json');Object.keys(pkg.scripts||{}).forEach(v => console.log(v))")
    fi
}

_choice_dependency() {
    project_dir="$(_locate_project)"
    if [ -f "$project_dir/package.json" ]; then
        (cd "$project_dir" && "$NODE" -e "var pkg=require('./package.json');Object.keys({...(pkg.dependencies||{}),...(pkg.devDependencies||{}),...(pkg.optionalDependencies||{})}).forEach(v => console.log(v))")
    fi
}

_choice_config_key() {
    pnpm config list --json | jq -r 'keys[]'
}

_choice_workspace() {
    pnpm recursive list --json | jq -r '.[].name'
}

_choice_exe() {
    bin_dir="$(_locate_project)/node_modules/.bin"
    if [ -d "$bin_dir" ]; then
        ls -1 "$bin_dir" | sed -e 's/\..*$//' | uniq
    fi
}

_locate_project() {
    if [[ -n "$argc_filter" ]]; then
        local path = jq -r '.[] | select(.name == "'"$argc_filter"'") | .path'
        if [[ -n "$path" ]]; then
            _argc_util_safe_path "$(pnpm root)"
            return
        fi
    fi
    _locate_project_base
}

_locate_project_base() {
    if [ -f package.json ]; then
        pwd
    else
        echo "$(cd "$(_argc_util_safe_path "$(pnpm root)")/.." && pwd)"
    fi
}

_argc_util_safe_path() {
	if [[ -x "$(command -v cygpath)" ]]; then
		cygpath "$1"
	else
		echo "$1"
	fi
}

eval "$(argc "$0" "$@")"